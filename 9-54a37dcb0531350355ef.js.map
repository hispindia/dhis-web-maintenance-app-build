{"version":3,"sources":["webpack:///9-54a37dcb0531350355ef.js","webpack:///./src/GroupEditor/GroupEditor.component.js","webpack:///./src/GroupEditor/ItemSelector.component.js","webpack:///./src/GroupEditor/ModelTypeSelector.component.js","webpack:///./src/GroupEditor/GroupsForItemManager.component.js","webpack:///./src/GroupEditor/ItemsInGroupManager.component.js"],"names":["webpackJsonp","2183","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__","__WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__","a","createClass","displayName","render","createElement","onChange","this","_tabChanged","label","ref","refs","itemsForGroup","reset","groupsForItem","2391","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default","propTypes","itemListStore","PropTypes","object","isRequired","onItemSelected","func","getInitialState","items","componentWillMount","_this","subscription","props","map","modelList","model","text","payload","id","subscribe","length","setState","componentWillUnmount","unsubscribe","renderOptions","state","option","index","key","primaryText","_onChange","fullWidth","event","2392","hasNameInArray","listToCheck","indexOf","name","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","nameListFilter","arrayOf","string","mixins","getDefaultProps","selectedModel","getInstance","then","d2","models","modelType","_this2","mapThroughDefinitions","v","filter","getTranslation","plural","hintText","2489","__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_2_loglevel__","__WEBPACK_IMPORTED_MODULE_2_loglevel___default","__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__","__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__","__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__","__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","Array","isArray","TypeError","itemStore","create","assignedItemStore","filterText","showGroupEditor","renderGroupEditor","modelToEdit","_workItemChanged","defaultValue","_setFilterText","onAssignItems","_assignItems","onRemoveItems","_removeItems","contentStyle","padding","context","accessibleModels","schemaName","currentUser","canCreate","style","_typeChanged","createUrls","_state","itemDefinition","modelDefinition","requests","url","Api","getApi","api","post","Promise","all","get","_ref","_ref2","fullModel","catch","message","error","delete","_ref3","_ref4","modelDef","_this3","list","paging","fields","modelCollection","toArray","_this4","reject","availablePromise","modelPromise","_ref5","_ref6","availableItems","_this5","_ref7","_ref8","2490","contextTypes","accessibleGroups","groupName","replace"],"mappings":"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","file":"9-54a37dcb0531350355ef.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ 2183:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__ = __webpack_require__(217);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__ = __webpack_require__(165);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__ = __webpack_require__(2490);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__ = __webpack_require__(2489);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'GroupEditor.component',\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default.a,\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default.a,\n                { onChange: this._tabChanged },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default.a,\n                    { label: 'Manage items in group' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__[\"a\" /* default */], { ref: 'itemsForGroup' })\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default.a,\n                    { label: 'Manage groups for item' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__[\"a\" /* default */], { ref: 'groupsForItem' })\n                )\n            )\n        );\n    },\n    _tabChanged: function _tabChanged() {\n        this.refs.itemsForGroup.reset();\n        this.refs.groupsForItem.reset();\n    }\n}));\n\n/***/ }),\n\n/***/ 2391:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__ = __webpack_require__(207);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ItemSelector.component',\n\n    propTypes: {\n        itemListStore: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired,\n        onItemSelected: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    getInitialState: function getInitialState() {\n        return {\n            items: []\n        };\n    },\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        this.subscription = this.props.itemListStore.map(function (modelList) {\n            return modelList.map(function (model) {\n                return {\n                    text: model.displayName,\n                    payload: model.id,\n                    model: model\n                };\n            });\n        }).subscribe(function (items) {\n            if (items.length) {\n                _this.props.onItemSelected(items[0].model);\n            }\n\n            _this.setState({ items: items });\n        });\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        if (this.subscription && this.subscription.unsubscribe) {\n            this.subscription.unsubscribe();\n        }\n    },\n    renderOptions: function renderOptions() {\n        return this.state.items.map(function (option, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.payload });\n        });\n    },\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default.a,\n                { onChange: this._onChange, value: this.props.value && this.props.value.id, fullWidth: true },\n                this.renderOptions()\n            )\n        );\n    },\n    _onChange: function _onChange(event, index, value) {\n        if (this.state.items && this.state.items[index]) {\n            this.props.onItemSelected(this.state.items[index].model);\n        }\n    }\n}));\n\n/***/ }),\n\n/***/ 2392:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__ = __webpack_require__(207);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(876);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\n\nfunction hasNameInArray(listToCheck) {\n    return function hasNameInArrayInner(value) {\n        // If no list has been given the result is always true\n        if (listToCheck.length === 0) {\n            return true;\n        }\n        return listToCheck.indexOf(value.name) !== -1;\n    };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ModelTypeSelector.component',\n\n    propTypes: {\n        nameListFilter: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.arrayOf(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string),\n        onChange: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            nameListFilter: []\n        };\n    },\n    getInitialState: function getInitialState() {\n        return {\n            selectedModel: null\n        };\n    },\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return _this.setState({ models: d2.models });\n        });\n    },\n    _onChange: function _onChange(event, index, modelType) {\n        this.setState({\n            selectedModel: modelType\n        });\n\n        this.props.onChange(modelType);\n    },\n    renderOptions: function renderOptions() {\n        var _this2 = this;\n\n        if (this.state && this.state.models) {\n            return this.state.models.mapThroughDefinitions(function (v) {\n                return v;\n            }).filter(hasNameInArray(this.props.nameListFilter)).map(function (value) {\n                return {\n                    text: _this2.getTranslation(__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default()(value.plural)),\n                    payload: value\n                };\n            }).map(function (option, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.payload });\n            });\n        }\n        return [];\n    },\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default.a,\n                _extends({\n                    value: this.state.selectedModel,\n                    hintText: this.getTranslation('select_an_object_type'),\n                    fullWidth: true\n                }, this.props, {\n                    onChange: this._onChange\n                }),\n                this.renderOptions()\n            )\n        );\n    }\n}));\n\n/***/ }),\n\n/***/ 2489:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__ = __webpack_require__(76);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__ = __webpack_require__(2392);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__ = __webpack_require__(2391);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(876);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__ = __webpack_require__(285);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'GroupsForItemManager.component',\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getInitialState: function getInitialState() {\n        var itemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var assignedItemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var itemListStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore: itemListStore,\n            itemStore: itemStore,\n            assignedItemStore: assignedItemStore,\n            filterText: '',\n            showGroupEditor: false\n        };\n    },\n    renderGroupEditor: function renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return [];\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__[\"a\" /* default */], {\n                value: this.state.modelToEdit || this.state.itemListStore.state[0],\n                itemListStore: this.state.itemListStore,\n                onItemSelected: this._workItemChanged\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default.a, {\n                fullWidth: true,\n                hintText: this.getTranslation('search_available_selected_items'),\n                defaultValue: this.state.filterText,\n                onChange: this._setFilterText\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__[\"a\" /* default */], {\n                itemStore: this.state.itemStore,\n                assignedItemStore: this.state.assignedItemStore,\n                onAssignItems: this._assignItems,\n                onRemoveItems: this._removeItems,\n                filterText: this.state.filterText\n            })\n        );\n    },\n    render: function render() {\n        var contentStyle = {\n            padding: '2rem'\n        };\n\n        var d2 = this.context.d2;\n        var accessibleModels = ['indicator', 'dataElement', 'categoryOption'].filter(function (schemaName) {\n            return d2.currentUser.canCreate(d2.models[schemaName + 'Group']);\n        });\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: contentStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__[\"a\" /* default */], {\n                nameListFilter: accessibleModels,\n                onChange: this._typeChanged\n            }),\n            this.renderGroupEditor()\n        );\n    },\n    createUrls: function createUrls(items) {\n        var _state = this.state,\n            modelToEdit = _state.modelToEdit,\n            itemDefinition = _state.itemDefinition;\n\n\n        return items.map(function (id) {\n            return modelToEdit.modelDefinition.plural + '/' + modelToEdit.id + '/' + itemDefinition + '/' + id;\n        });\n    },\n    _assignItems: function _assignItems(items) {\n        var _this = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.post(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this.state.modelToEdit.modelDefinition.name + 'Group';\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this.state.modelToEdit.modelDefinition.name].get(_this.state.modelToEdit.id)]);\n            }).then(function (_ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                    d2 = _ref2[0],\n                    fullModel = _ref2[1];\n\n                _this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this.setState({\n                    modelToEdit: fullModel\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _removeItems: function _removeItems(items) {\n        var _this2 = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.delete(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this2.state.modelToEdit.modelDefinition.name + 'Group';\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this2.state.modelToEdit.modelDefinition.name].get(_this2.state.modelToEdit.id)]);\n            }).then(function (_ref3) {\n                var _ref4 = _slicedToArray(_ref3, 2),\n                    d2 = _ref4[0],\n                    fullModel = _ref4[1];\n\n                _this2.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this2.setState({\n                    modelToEdit: fullModel\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _typeChanged: function _typeChanged(modelDef) {\n        var _this3 = this;\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' }).then(function (modelCollection) {\n            return modelCollection.toArray();\n        }).then(function (models) {\n            return _this3.state.itemListStore.setState(models);\n        }).then(function () {\n            return _this3.setState({ showGroupEditor: true });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _setFilterText: function _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value\n        });\n    },\n    _workItemChanged: function _workItemChanged(model) {\n        var _this4 = this;\n\n        var itemDefinition = model.modelDefinition.name + 'Group';\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            if (!d2.models[itemDefinition]) {\n                return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n            }\n\n            var availablePromise = d2.models[itemDefinition].list({ paging: false });\n            var modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n            Promise.all([availablePromise, modelPromise]).then(function (_ref5) {\n                var _ref6 = _slicedToArray(_ref5, 2),\n                    availableItems = _ref6[0],\n                    fullModel = _ref6[1];\n\n                _this4.state.itemStore.setState(availableItems);\n                _this4.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this4.setState({\n                    modelToEdit: fullModel,\n                    itemDefinition: d2.models[itemDefinition].plural\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    reset: function reset() {\n        var _this5 = this;\n\n        if (!this.state.modelToEdit) {\n            return;\n        }\n\n        var itemDefinition = this.state.modelToEdit.modelDefinition.name + 'Group';\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return Promise.all([d2, d2.models[_this5.state.modelToEdit.modelDefinition.name].get(_this5.state.modelToEdit.id)]);\n        }).then(function (_ref7) {\n            var _ref8 = _slicedToArray(_ref7, 2),\n                d2 = _ref8[0],\n                fullModel = _ref8[1];\n\n            _this5.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n            _this5.setState({\n                modelToEdit: fullModel\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    }\n}));\n\n/***/ }),\n\n/***/ 2490:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__ = __webpack_require__(76);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__ = __webpack_require__(2392);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__ = __webpack_require__(2391);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(876);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__ = __webpack_require__(285);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ItemsInGroupManager.component',\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    contextTypes: {\n        d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object\n    },\n\n    getInitialState: function getInitialState() {\n        var itemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var assignedItemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var itemListStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore: itemListStore,\n            itemStore: itemStore,\n            assignedItemStore: assignedItemStore,\n            filterText: '',\n            showGroupEditor: false\n        };\n    },\n    renderGroupEditor: function renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return null;\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__[\"a\" /* default */], {\n                value: this.state.modelToEdit || this.state.itemListStore.state[0],\n                itemListStore: this.state.itemListStore,\n                onItemSelected: this._workItemChanged\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default.a, {\n                fullWidth: true,\n                hintText: this.getTranslation('search_available_selected_items'),\n                defaultValue: this.state.filterText,\n                onChange: this._setFilterText\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__[\"a\" /* default */], {\n                itemStore: this.state.itemStore,\n                assignedItemStore: this.state.assignedItemStore,\n                onAssignItems: this._assignItems,\n                onRemoveItems: this._removeItems,\n                filterText: this.state.filterText\n            })\n        );\n    },\n    createUrls: function createUrls(items) {\n        var _state = this.state,\n            modelToEdit = _state.modelToEdit,\n            itemDefinition = _state.itemDefinition;\n\n\n        return items.map(function (id) {\n            return modelToEdit.modelDefinition.plural + '/' + modelToEdit.id + '/' + itemDefinition + '/' + id;\n        });\n    },\n    render: function render() {\n        var d2 = this.context.d2;\n\n        var accessibleGroups = ['indicatorGroup', 'dataElementGroup', 'categoryOptionGroup'].filter(function (groupName) {\n            return d2.currentUser.canCreate(d2.models[groupName]);\n        });\n\n        var contentStyle = {\n            padding: '2rem'\n        };\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: contentStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__[\"a\" /* default */], {\n                nameListFilter: accessibleGroups,\n                onChange: this._typeChanged\n            }),\n            this.renderGroupEditor()\n        );\n    },\n    _assignItems: function _assignItems(items) {\n        var _this = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.post(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this.state.modelToEdit.modelDefinition.name].get(_this.state.modelToEdit.id)]);\n            }).then(function (_ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                    d2 = _ref2[0],\n                    fullModel = _ref2[1];\n\n                _this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this.setState({\n                    modelToEdit: fullModel\n                });\n            }).catch(function (message) {\n                return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n            });\n        });\n    },\n    _removeItems: function _removeItems(items) {\n        var _this2 = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.delete(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this2.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this2.state.modelToEdit.modelDefinition.name].get(_this2.state.modelToEdit.id)]);\n            }).then(function (_ref3) {\n                var _ref4 = _slicedToArray(_ref3, 2),\n                    d2 = _ref4[0],\n                    fullModel = _ref4[1];\n\n                _this2.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this2.setState({\n                    modelToEdit: fullModel\n                });\n            }).catch(function (message) {\n                return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n            });\n        });\n    },\n    _typeChanged: function _typeChanged(modelDef) {\n        var _this3 = this;\n\n        if (!modelDef) {\n            return;\n        }\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' }).then(function (modelCollection) {\n            return modelCollection.toArray();\n        }).then(function (models) {\n            return _this3.state.itemListStore.setState(models);\n        }).then(function () {\n            return _this3.setState({ showGroupEditor: true });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _setFilterText: function _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value\n        });\n    },\n    _workItemChanged: function _workItemChanged(model) {\n        var _this4 = this;\n\n        var itemDefinition = model.modelDefinition.name.replace('Group', '');\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            if (!d2.models[itemDefinition]) {\n                return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n            }\n\n            var availablePromise = d2.models[itemDefinition].list({ paging: false });\n            var modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n            Promise.all([availablePromise, modelPromise]).then(function (_ref5) {\n                var _ref6 = _slicedToArray(_ref5, 2),\n                    availableItems = _ref6[0],\n                    fullModel = _ref6[1];\n\n                _this4.state.itemStore.setState(availableItems);\n                _this4.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this4.setState({\n                    modelToEdit: fullModel,\n                    itemDefinition: d2.models[itemDefinition].plural\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    reset: function reset() {\n        var _this5 = this;\n\n        if (!this.state.modelToEdit) {\n            return;\n        }\n\n        var itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return Promise.all([d2, d2.models[_this5.state.modelToEdit.modelDefinition.name].get(_this5.state.modelToEdit.id)]);\n        }).then(function (_ref7) {\n            var _ref8 = _slicedToArray(_ref7, 2),\n                d2 = _ref8[0],\n                fullModel = _ref8[1];\n\n            _this5.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n            _this5.setState({\n                modelToEdit: fullModel\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    }\n}));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 9-54a37dcb0531350355ef.js","import React from 'react';\r\n\r\nimport Tabs from 'material-ui/Tabs/Tabs';\r\nimport Tab from 'material-ui/Tabs/Tab';\r\nimport Paper from 'material-ui/Paper/Paper';\r\n\r\nimport ItemsInGroupManager from './ItemsInGroupManager.component';\r\nimport GroupsForItemManager from './GroupsForItemManager.component';\r\n\r\nexport default React.createClass({\r\n    render() {\r\n        return (\r\n            <Paper>\r\n                <Tabs onChange={this._tabChanged}>\r\n                    <Tab label=\"Manage items in group\">\r\n                        <ItemsInGroupManager ref=\"itemsForGroup\" />\r\n                    </Tab>\r\n                    <Tab label=\"Manage groups for item\">\r\n                        <GroupsForItemManager ref=\"groupsForItem\" />\r\n                    </Tab>\r\n                </Tabs>\r\n            </Paper>\r\n        );\r\n    },\r\n\r\n    _tabChanged() {\r\n        this.refs.itemsForGroup.reset();\r\n        this.refs.groupsForItem.reset();\r\n    },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/GroupEditor.component.js","import React from 'react';\r\n\r\nimport SelectField from 'material-ui/SelectField/SelectField';\r\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\r\n\r\nexport default React.createClass({\r\n    propTypes: {\r\n        itemListStore: React.PropTypes.object.isRequired,\r\n        onItemSelected: React.PropTypes.func.isRequired,\r\n    },\r\n\r\n    getInitialState() {\r\n        return {\r\n            items: [],\r\n        };\r\n    },\r\n\r\n    componentWillMount() {\r\n        this.subscription = this.props.itemListStore\r\n            .map(modelList => modelList\r\n                    .map(model => ({\r\n                        text: model.displayName,\r\n                        payload: model.id,\r\n                        model,\r\n                    })))\r\n            .subscribe((items) => {\r\n                if (items.length) {\r\n                    this.props.onItemSelected(items[0].model);\r\n                }\r\n\r\n                this.setState({ items });\r\n            });\r\n    },\r\n\r\n    componentWillUnmount() {\r\n        if (this.subscription && this.subscription.unsubscribe) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n    },\r\n\r\n    renderOptions() {\r\n        return this.state.items\r\n            .map((option, index) => <MenuItem key={index} primaryText={option.text} value={option.payload} />);\r\n    },\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <SelectField onChange={this._onChange} value={this.props.value && this.props.value.id} fullWidth>{this.renderOptions()}</SelectField>\r\n            </div>\r\n        );\r\n    },\r\n\r\n    _onChange(event, index, value) {\r\n        if (this.state.items && this.state.items[index]) {\r\n            this.props.onItemSelected(this.state.items[index].model);\r\n        }\r\n    },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ItemSelector.component.js","import React from 'react';\r\nimport SelectField from 'material-ui/SelectField/SelectField';\r\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\r\nimport d2lib from 'd2/lib/d2';\r\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\r\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\r\n\r\nfunction hasNameInArray(listToCheck) {\r\n    return function hasNameInArrayInner(value) {\r\n        // If no list has been given the result is always true\r\n        if (listToCheck.length === 0) {\r\n            return true;\r\n        }\r\n        return listToCheck.indexOf(value.name) !== -1;\r\n    };\r\n}\r\n\r\nexport default React.createClass({\r\n    propTypes: {\r\n        nameListFilter: React.PropTypes.arrayOf(React.PropTypes.string),\r\n        onChange: React.PropTypes.func.isRequired,\r\n    },\r\n\r\n    mixins: [Translate],\r\n\r\n    getDefaultProps() {\r\n        return {\r\n            nameListFilter: [],\r\n        };\r\n    },\r\n\r\n    getInitialState() {\r\n        return {\r\n            selectedModel: null,\r\n        };\r\n    },\r\n\r\n    componentWillMount() {\r\n        d2lib.getInstance()\r\n            .then(d2 => this.setState({ models: d2.models }));\r\n    },\r\n\r\n    _onChange(event, index, modelType) {\r\n        this.setState({\r\n            selectedModel: modelType,\r\n        });\r\n\r\n        this.props.onChange(modelType);\r\n    },\r\n\r\n    renderOptions() {\r\n        if (this.state && this.state.models) {\r\n            return this.state.models\r\n                .mapThroughDefinitions(v => v)\r\n                .filter(hasNameInArray(this.props.nameListFilter))\r\n                .map(value => ({\r\n                    text: this.getTranslation(camelCaseToUnderscores(value.plural)),\r\n                    payload: value,\r\n                }))\r\n                .map((option, index) => (\r\n                    <MenuItem key={index} primaryText={option.text} value={option.payload} />\r\n                    ));\r\n        }\r\n        return [];\r\n    },\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <SelectField\r\n                    value={this.state.selectedModel}\r\n                    hintText={this.getTranslation('select_an_object_type')}\r\n                    fullWidth\r\n                    {...this.props}\r\n                    onChange={this._onChange}\r\n                >\r\n                    {this.renderOptions()}\r\n                </SelectField>\r\n            </div>\r\n        );\r\n    },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ModelTypeSelector.component.js","import React from 'react';\r\n\r\nimport TextField from 'material-ui/TextField/TextField';\r\nimport log from 'loglevel';\r\n\r\nimport d2lib from 'd2/lib/d2';\r\nimport ModelTypeSelector from './ModelTypeSelector.component';\r\nimport Store from 'd2-ui/lib/store/Store';\r\nimport ItemSelector from './ItemSelector.component';\r\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\r\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditor.component';\r\n\r\nexport default React.createClass({\r\n    mixins: [Translate],\r\n\r\n    getInitialState() {\r\n        const itemStore = Store.create();\r\n        const assignedItemStore = Store.create();\r\n        const itemListStore = Store.create();\r\n\r\n        itemStore.state = [];\r\n        assignedItemStore.state = [];\r\n\r\n        return {\r\n            itemListStore,\r\n            itemStore,\r\n            assignedItemStore,\r\n            filterText: '',\r\n            showGroupEditor: false,\r\n        };\r\n    },\r\n\r\n    renderGroupEditor() {\r\n        if (!this.state.showGroupEditor) {\r\n            return [];\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <ItemSelector\r\n                    value={this.state.modelToEdit || this.state.itemListStore.state[0]}\r\n                    itemListStore={this.state.itemListStore}\r\n                    onItemSelected={this._workItemChanged}\r\n                />\r\n                <TextField\r\n                    fullWidth\r\n                    hintText={this.getTranslation('search_available_selected_items')}\r\n                    defaultValue={this.state.filterText}\r\n                    onChange={this._setFilterText}\r\n                />\r\n                <GroupEditor\r\n                    itemStore={this.state.itemStore}\r\n                    assignedItemStore={this.state.assignedItemStore}\r\n                    onAssignItems={this._assignItems}\r\n                    onRemoveItems={this._removeItems}\r\n                    filterText={this.state.filterText}\r\n                />\r\n            </div>\r\n        );\r\n    },\r\n\r\n    render() {\r\n        const contentStyle = {\r\n            padding: '2rem',\r\n        };\r\n\r\n        const d2 = this.context.d2;\r\n        const accessibleModels = ['indicator', 'dataElement', 'categoryOption']\r\n            .filter(schemaName => d2.currentUser.canCreate(d2.models[`${schemaName}Group`]));\r\n\r\n        return (\r\n            <div style={contentStyle}>\r\n                <ModelTypeSelector\r\n                    nameListFilter={accessibleModels}\r\n                    onChange={this._typeChanged}\r\n                />\r\n                {this.renderGroupEditor()}\r\n            </div>\r\n        );\r\n    },\r\n\r\n    createUrls(items) {\r\n        const { modelToEdit, itemDefinition } = this.state;\r\n\r\n        return items\r\n            .map(id => `${modelToEdit.modelDefinition.plural}/${modelToEdit.id}/${itemDefinition}/${id}`);\r\n    },\r\n\r\n    _assignItems(items) {\r\n        const requests = this.createUrls(items)\r\n            .map(url => d2lib.getInstance()\r\n                    .then(d2 => d2.Api.getApi())\r\n                    .then(api => api.post(url)));\r\n\r\n        return Promise.all(requests)\r\n            .then(() => {\r\n                const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\r\n\r\n                return d2lib.getInstance()\r\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\r\n                    .then(([d2, fullModel]) => {\r\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\r\n                        this.setState({\r\n                            modelToEdit: fullModel,\r\n                        });\r\n                    });\r\n            })\r\n            .catch(message => log.error(message));\r\n    },\r\n\r\n    _removeItems(items) {\r\n        const requests = this.createUrls(items)\r\n            .map(url => d2lib.getInstance()\r\n                    .then(d2 => d2.Api.getApi())\r\n                    .then(api => api.delete(url)));\r\n\r\n        return Promise.all(requests)\r\n            .then(() => {\r\n                const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\r\n\r\n                return d2lib.getInstance()\r\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\r\n                    .then(([d2, fullModel]) => {\r\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\r\n                        this.setState({\r\n                            modelToEdit: fullModel,\r\n                        });\r\n                    });\r\n            })\r\n            .catch(message => log.error(message));\r\n    },\r\n\r\n    _typeChanged(modelDef) {\r\n        modelDef.list({ paging: false, fields: 'id,displayName,name' })\r\n            .then(modelCollection => modelCollection.toArray())\r\n            .then(models => this.state.itemListStore.setState(models))\r\n            .then(() => this.setState({ showGroupEditor: true }))\r\n            .catch(message => log.error(message));\r\n    },\r\n\r\n    _setFilterText(event) {\r\n        this.setState({\r\n            filterText: event.target.value,\r\n        });\r\n    },\r\n\r\n    _workItemChanged(model) {\r\n        const itemDefinition = `${model.modelDefinition.name}Group`;\r\n\r\n        d2lib.getInstance()\r\n            .then((d2) => {\r\n                if (!d2.models[itemDefinition]) {\r\n                    return Promise.reject(`This groupType does not have a model named: ${itemDefinition}`);\r\n                }\r\n\r\n                const availablePromise = d2.models[itemDefinition].list({ paging: false });\r\n                const modelPromise = d2.models[model.modelDefinition.name].get(model.id);\r\n\r\n                Promise.all([availablePromise, modelPromise])\r\n                    .then(([availableItems, fullModel]) => {\r\n                        this.state.itemStore.setState(availableItems);\r\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\r\n                        this.setState({\r\n                            modelToEdit: fullModel,\r\n                            itemDefinition: d2.models[itemDefinition].plural,\r\n                        });\r\n                    });\r\n            })\r\n            .catch(message => log.error(message));\r\n    },\r\n\r\n    reset() {\r\n        if (!this.state.modelToEdit) { return; }\r\n\r\n        const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\r\n\r\n        d2lib.getInstance()\r\n            .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\r\n            .then(([d2, fullModel]) => {\r\n                this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\r\n                this.setState({\r\n                    modelToEdit: fullModel,\r\n                });\r\n            })\r\n            .catch(message => log.error(message));\r\n    },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/GroupsForItemManager.component.js","import React from 'react';\r\n\r\nimport TextField from 'material-ui/TextField/TextField';\r\nimport log from 'loglevel';\r\n\r\nimport d2lib from 'd2/lib/d2';\r\nimport ModelTypeSelector from './ModelTypeSelector.component';\r\nimport Store from 'd2-ui/lib/store/Store';\r\nimport ItemSelector from './ItemSelector.component';\r\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\r\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditor.component';\r\n\r\nexport default React.createClass({\r\n    mixins: [Translate],\r\n\r\n    contextTypes: {\r\n        d2: React.PropTypes.object,\r\n    },\r\n\r\n    getInitialState() {\r\n        const itemStore = Store.create();\r\n        const assignedItemStore = Store.create();\r\n        const itemListStore = Store.create();\r\n\r\n        itemStore.state = [];\r\n        assignedItemStore.state = [];\r\n\r\n        return {\r\n            itemListStore,\r\n            itemStore,\r\n            assignedItemStore,\r\n            filterText: '',\r\n            showGroupEditor: false,\r\n        };\r\n    },\r\n\r\n    renderGroupEditor() {\r\n        if (!this.state.showGroupEditor) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <ItemSelector\r\n                    value={this.state.modelToEdit || this.state.itemListStore.state[0]}\r\n                    itemListStore={this.state.itemListStore}\r\n                    onItemSelected={this._workItemChanged}\r\n                />\r\n                <TextField\r\n                    fullWidth\r\n                    hintText={this.getTranslation('search_available_selected_items')}\r\n                    defaultValue={this.state.filterText}\r\n                    onChange={this._setFilterText}\r\n                />\r\n                <GroupEditor\r\n                    itemStore={this.state.itemStore}\r\n                    assignedItemStore={this.state.assignedItemStore}\r\n                    onAssignItems={this._assignItems}\r\n                    onRemoveItems={this._removeItems}\r\n                    filterText={this.state.filterText}\r\n                />\r\n            </div>\r\n        );\r\n    },\r\n\r\n    createUrls(items) {\r\n        const { modelToEdit, itemDefinition } = this.state;\r\n\r\n        return items\r\n            .map(id => `${modelToEdit.modelDefinition.plural}/${modelToEdit.id}/${itemDefinition}/${id}`);\r\n    },\r\n\r\n    render() {\r\n        const d2 = this.context.d2;\r\n\r\n        const accessibleGroups = ['indicatorGroup', 'dataElementGroup', 'categoryOptionGroup']\r\n            .filter(groupName => d2.currentUser.canCreate(d2.models[groupName]));\r\n\r\n        const contentStyle = {\r\n            padding: '2rem',\r\n        };\r\n\r\n        return (\r\n            <div style={contentStyle}>\r\n                <ModelTypeSelector\r\n                    nameListFilter={accessibleGroups}\r\n                    onChange={this._typeChanged}\r\n                />\r\n                {this.renderGroupEditor()}\r\n            </div>\r\n        );\r\n    },\r\n\r\n    _assignItems(items) {\r\n        const requests = this.createUrls(items)\r\n            .map(url => d2lib\r\n                .getInstance()\r\n                .then(d2 => d2.Api.getApi())\r\n                .then(api => api.post(url))\r\n            );\r\n\r\n        return Promise.all(requests)\r\n            .then(() => {\r\n                const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\r\n\r\n                return d2lib.getInstance()\r\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\r\n                    .then(([d2, fullModel]) => {\r\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\r\n                        this.setState({\r\n                            modelToEdit: fullModel,\r\n                        });\r\n                    })\r\n                    .catch(message => log.error(message));\r\n            });\r\n    },\r\n\r\n    _removeItems(items) {\r\n        const requests = this.createUrls(items)\r\n            .map(url => d2lib.getInstance()\r\n                    .then(d2 => d2.Api.getApi())\r\n                    .then(api => api.delete(url)));\r\n\r\n        return Promise.all(requests)\r\n            .then(() => {\r\n                const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\r\n\r\n                return d2lib.getInstance()\r\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\r\n                    .then(([d2, fullModel]) => {\r\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\r\n                        this.setState({\r\n                            modelToEdit: fullModel,\r\n                        });\r\n                    })\r\n                    .catch(message => log.error(message));\r\n            });\r\n    },\r\n\r\n    _typeChanged(modelDef) {\r\n        if (!modelDef) {\r\n            return;\r\n        }\r\n\r\n        modelDef.list({ paging: false, fields: 'id,displayName,name' })\r\n            .then(modelCollection => modelCollection.toArray())\r\n            .then(models => this.state.itemListStore.setState(models))\r\n            .then(() => this.setState({ showGroupEditor: true }))\r\n            .catch(message => log.error(message));\r\n    },\r\n\r\n    _setFilterText(event) {\r\n        this.setState({\r\n            filterText: event.target.value,\r\n        });\r\n    },\r\n\r\n    _workItemChanged(model) {\r\n        const itemDefinition = model.modelDefinition.name.replace('Group', '');\r\n\r\n        d2lib.getInstance()\r\n            .then((d2) => {\r\n                if (!d2.models[itemDefinition]) {\r\n                    return Promise.reject(`This groupType does not have a model named: ${itemDefinition}`);\r\n                }\r\n\r\n                const availablePromise = d2.models[itemDefinition].list({ paging: false });\r\n                const modelPromise = d2.models[model.modelDefinition.name].get(model.id);\r\n\r\n                Promise.all([availablePromise, modelPromise])\r\n                    .then(([availableItems, fullModel]) => {\r\n                        this.state.itemStore.setState(availableItems);\r\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\r\n                        this.setState({\r\n                            modelToEdit: fullModel,\r\n                            itemDefinition: d2.models[itemDefinition].plural,\r\n                        });\r\n                    });\r\n            })\r\n            .catch(message => log.error(message));\r\n    },\r\n\r\n    reset() {\r\n        if (!this.state.modelToEdit) { return; }\r\n\r\n        const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\r\n\r\n        d2lib.getInstance()\r\n            .then(d2 => Promise\r\n                    .all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\r\n            .then(([d2, fullModel]) => {\r\n                this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\r\n                this.setState({\r\n                    modelToEdit: fullModel,\r\n                });\r\n            })\r\n            .catch(message => log.error(message));\r\n    },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ItemsInGroupManager.component.js"],"sourceRoot":""}